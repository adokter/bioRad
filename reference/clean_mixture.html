<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Partition mixtures of animals using assumptions on airspeeds. — clean_mixture • bioRad</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Partition mixtures of animals using assumptions on airspeeds. — clean_mixture"><meta name="description" content="Partition mixtures of birds and insects using assumptions on their respective airspeeds,
following the approach by Shi et al. (2025)."><meta property="og:description" content="Partition mixtures of birds and insects using assumptions on their respective airspeeds,
following the approach by Shi et al. (2025)."><meta property="og:image" content="http://adriaandokter.com/bioRad/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bioRad</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.10.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/bioRad.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/rad_aero_22.html">Introductory exercises with bioRad</a></li>
    <li><a class="dropdown-item" href="../articles/range_correction.html">Correction for range effects</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/adokter/bioRad/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Partition mixtures of animals using assumptions on airspeeds.</h1>
      <small class="dont-index">Source: <a href="https://github.com/adokter/bioRad/blob/0.10.0/R/clean_mixture.R" class="external-link"><code>R/clean_mixture.R</code></a></small>
      <div class="d-none name"><code>clean_mixture.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Partition mixtures of birds and insects using assumptions on their respective airspeeds,
following the approach by Shi et al. (2025).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">clean_mixture</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  slow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  fast <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  drop_slow_component <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  drop_missing <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_mixture <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">u_wind</span>,</span>
<span>  <span class="va">v_wind</span>,</span>
<span>  <span class="va">u</span>,</span>
<span>  <span class="va">v</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vpts'</span></span>
<span><span class="fu">clean_mixture</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  slow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  fast <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  drop_slow_component <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  drop_missing <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_mixture <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  u_wind <span class="op">=</span> <span class="st">"u_wind"</span>,</span>
<span>  v_wind <span class="op">=</span> <span class="st">"v_wind"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vp'</span></span>
<span><span class="fu">clean_mixture</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  slow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  fast <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  drop_slow_component <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  drop_missing <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_mixture <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  u_wind <span class="op">=</span> <span class="st">"u_wind"</span>,</span>
<span>  v_wind <span class="op">=</span> <span class="st">"v_wind"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a <code>vp</code> or <code>vpts</code> object, or a mixture animal density or linear reflectivity eta in cm\(^2\)/km\(^3\).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p><code>eta</code>, <code>u</code>, <code>v</code>, <code>u_wind</code>, <code>v_wind</code> arguments, taken from object for <code>vp</code> or <code>vpts</code> class.</p></dd>


<dt id="arg-slow">slow<a class="anchor" aria-label="anchor" href="#arg-slow"></a></dt>
<dd><p>the slow component's airspeed in m/s, typically the airspeed of birds.
Either a single number, or (optionally for <code>vpts</code>) a numeric vector equal in length to the number of profiles,
or a data column name (see Details).</p></dd>


<dt id="arg-fast">fast<a class="anchor" aria-label="anchor" href="#arg-fast"></a></dt>
<dd><p>the fast component's airspeed in m/s, typically the airspeed of insects.
Either a single number, or (optionally for <code>vpts</code>) a numeric vector equal in length to the number of profiles,
or a data column name (see Details).</p></dd>


<dt id="arg-drop-slow-component">drop_slow_component<a class="anchor" aria-label="anchor" href="#arg-drop-slow-component"></a></dt>
<dd><p>when TRUE (default) output density, ground speed and
heading for fast component, when FALSE for slow component.</p></dd>


<dt id="arg-drop-missing">drop_missing<a class="anchor" aria-label="anchor" href="#arg-drop-missing"></a></dt>
<dd><p>Values <code>eta</code> without an associated ground speed
and wind speed are set to NA when <code>TRUE</code>, or returned unaltered when <code>FALSE</code> (default).</p></dd>


<dt id="arg-keep-mixture">keep_mixture<a class="anchor" aria-label="anchor" href="#arg-keep-mixture"></a></dt>
<dd><p>When <code>TRUE</code> store original mixture reflectivity and speeds as
renamed quantities with <code>mixture_</code> prefix</p></dd>


<dt id="arg-u-wind">u_wind<a class="anchor" aria-label="anchor" href="#arg-u-wind"></a></dt>
<dd><p>the west to east wind component in m/s. In the case of <code>vp</code> and <code>vpts</code> objects
the quantity name for the U-component of the wind.</p></dd>


<dt id="arg-v-wind">v_wind<a class="anchor" aria-label="anchor" href="#arg-v-wind"></a></dt>
<dd><p>the south to north wind component in m/s.  In the case of <code>vp</code> and <code>vpts</code> objects
the quantity name for the V-component of the wind.</p></dd>


<dt id="arg-u">u<a class="anchor" aria-label="anchor" href="#arg-u"></a></dt>
<dd><p>the mixture's ground speed u component (west to east) in m/s.</p></dd>


<dt id="arg-v">v<a class="anchor" aria-label="anchor" href="#arg-v"></a></dt>
<dd><p>the mixture's ground speed v component (south to north) in m/s.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a named list with cleaned densities and speeds.
Output differs depending on whether the fast component is retained
(<code>drop_slow_component</code>=<code>TRUE</code>, default) or the slow component (<code>drop_slow_component</code>=<code>FALSE</code>, default). Output quantities include:</p><ul><li><p><code>eta</code>: cleaned reflectivity in cm^2/km^3.
only the fast component (default) or the slow component
(when <code>drop_slow_component</code> is <code>TRUE</code>).</p></li>
<li><p><code>u</code>: cleaned ground speed component west to east in m/s.</p></li>
<li><p><code>v</code>: cleaned ground speed component south to north in m/s.</p></li>
<li><p><code>airspeed</code>: the airspeed of the selected component in m/s.</p></li>
<li><p><code>airspeed_u</code>: the u-component (west to east) of the airspeed of the retained component in m/s.</p></li>
<li><p><code>airspeed_v</code>: the v-component (south to north) of the airspeed of the retained component in m/s.</p></li>
<li><p><code>heading</code>: the heading of the selected component in degrees clockwise from north.</p></li>
<li><p><code>f</code>: the reflectivity proportion of the slow component (0-1 range), typically the proportion of insects.</p></li>
</ul><p>For <code>vp</code> and <code>vpts</code> objects the quantities <code>eta</code>,<code>u</code>,<code>v</code> will be updated, and other
quantities listed above will be added.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For a detail description of the methodology see Shi et al. (2025).
Most commonly the fast component refers to migrating birds, while
the slow component refers to insects. The slow component is always
oriented in the direction of the wind by definition.
Note that for mixture airspeeds exceeding the airspeed of the fast component,
all reflectivity is assigned to the fast component. Similarly, for mixture
airspeeds below the airspeed of the slow component, all reflectivity
will be assigned to the slow component.</p><div class="section">
<h3 id="how-to-use-this-function-">How to use this function?<a class="anchor" aria-label="anchor" href="#how-to-use-this-function-"></a></h3>

<ol><li><p>To apply this function to <code>vp</code> or <code>vpts</code> data altitudinal wind data
needs to be added to the vertical profile data first. This is most easily
accomplished by first converting the objects to a <code>data.frame</code> with <code><a href="as.vp.html">as.vp()</a></code> or <code><a href="as.vpts.html">as.vpts()</a></code>.
Wind data can then be added as a new columns to the data.frame.
By default the wind data is expected to be named <code>u_wind</code> for the U component
and <code>v_wind</code> for the V component of the wind.
Alternatively, arguments <code>u_wind</code> and <code>v_wind</code> can be used to specify different names.</p></li>
<li><p>Realistic assumptions for the expected airspeed for the slow (insect)
and fast (bird) components need to be provided, using arguments <code>slow</code> and <code>fast</code>.
See Shi et al. 2025 for recommendations in choosing these values.
The parameter values for <code>fast</code> and <code>slow</code> can be specified as follows:</p><ul><li><p>as single values applied to all heights and timestamps</p></li>
<li><p>as a numeric vector of equal length as the number of profiles in the <code>vpts</code>,
allowing the user to specify changes in the parameter over time</p></li>
<li><p>as the name of a profile data quantity, allowing the user to specify changes in
the parameter over time and/or altitude. Profile quantities are most easily added
by first converting the <code>vpts</code> object to a data.frame with <code><a href="as.data.frame.vp.html">as.data.frame.vpts()</a></code>,
adding the values, and back-converting with <a href="as.vpts.html">as.vpts</a></p></li>
</ul></li>
<li><p>Use <code>drop_slow_component</code> to toggle between retaining the slow or fast component.
When <code>TRUE</code> the fast (bird) component is retained. When <code>FALSE</code> the slow (insect)
component is retained. Note that in this case the corrected ground speed direction will be
identical to the wind direction, and the magnitude of the ground speed will be equal
to the wind speed plus the value of <code>slow</code>, due to the underlying assumption
of wind following by the slow component.</p></li>
</ol></div>

    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p>Shi X, Drucker J, Chapman JW, Sanchez Herrera M, Dokter AM
Analysis of mixtures of birds and insects in weather radar data.
Ornithological Applications. 2025 (in press) <a href="https://doi.org/10.1093/ornithapp/duaf020" class="external-link">doi:10.1093/ornithapp/duaf020</a>
.</p></li>
<li><p>Nussbaumer R, Schmid B, Bauer S, Liechti F.
A Gaussian mixture model to separate birds and insects in
single-polarization weather radar data. Remote Sensing. 2021 May 19;13(10):1989 <a href="https://doi.org/10.3390/rs13101989" class="external-link">doi:10.3390/rs13101989</a>
.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># convert profile object to data.frame</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">example_vp</span>, suntime<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># add wind u and v component wind data</span></span></span>
<span class="r-in"><span><span class="co"># (here a NW wind identical at all altitudes)</span></span></span>
<span class="r-in"><span><span class="va">df</span><span class="op">$</span><span class="va">u_wind</span><span class="op">=</span><span class="fl">3</span></span></span>
<span class="r-in"><span><span class="va">df</span><span class="op">$</span><span class="va">v_wind</span><span class="op">=</span><span class="op">-</span><span class="fl">3</span></span></span>
<span class="r-in"><span><span class="co"># convert back to vp object</span></span></span>
<span class="r-in"><span><span class="va">my_vp</span> <span class="op">&lt;-</span> <span class="fu"><a href="as.vp.html">as.vp</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Extra fields found: u_wind, v_wind</span>
<span class="r-in"><span><span class="co"># partition the mixture:</span></span></span>
<span class="r-in"><span><span class="va">my_vp_clean</span> <span class="op">&lt;-</span> <span class="fu">clean_mixture</span><span class="op">(</span><span class="va">my_vp</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># drop the slow component (typically insects)</span></span></span>
<span class="r-in"><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="fl">100</span>,u<span class="op">=</span><span class="op">-</span><span class="fl">13</span>,v<span class="op">=</span><span class="fl">13</span>,u_wind<span class="op">=</span><span class="op">-</span><span class="fl">7</span>,v_wind<span class="op">=</span><span class="fl">6</span>, fast<span class="op">=</span><span class="fl">8</span>, slow<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 9.219544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $heading</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -40.60129</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $f</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># drop the fast component (typically birds)</span></span></span>
<span class="r-in"><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="fl">100</span>,u<span class="op">=</span><span class="op">-</span><span class="fl">13</span>,v<span class="op">=</span><span class="fl">13</span>,u_wind<span class="op">=</span><span class="op">-</span><span class="fl">7</span>,v_wind<span class="op">=</span><span class="fl">6</span>, fast<span class="op">=</span><span class="fl">8</span>, slow<span class="op">=</span><span class="fl">1</span>, drop_slow_component<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 9.219544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $heading</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -40.60129</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $f</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># keep the original mixture reflectivity and speed components</span></span></span>
<span class="r-in"><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="fl">100</span>,u<span class="op">=</span><span class="op">-</span><span class="fl">13</span>,v<span class="op">=</span><span class="fl">13</span>,u_wind<span class="op">=</span><span class="op">-</span><span class="fl">7</span>,v_wind<span class="op">=</span><span class="fl">6</span>, fast<span class="op">=</span><span class="fl">8</span>, slow<span class="op">=</span><span class="fl">1</span>, keep_mixture<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 9.219544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $heading</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -40.60129</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $f</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mixture_eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mixture_u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mixture_v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mixture_airspeed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 9.219544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mixture_heading</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 319.3987</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># keep reflectivity unaltered when one of the speed components is not a number:</span></span></span>
<span class="r-in"><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="fl">100</span>,u<span class="op">=</span><span class="op">-</span><span class="fl">13</span>,v<span class="op">=</span><span class="fl">13</span>,u_wind<span class="op">=</span><span class="cn">NaN</span>,v_wind<span class="op">=</span><span class="fl">6</span>, fast<span class="op">=</span><span class="fl">8</span>, slow<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">[</span><span class="st">"eta"</span><span class="op">]</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>U component of wind contains non finite values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># set reflectivity to NaN when one of the speed components is not a number:</span></span></span>
<span class="r-in"><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="fl">100</span>,u<span class="op">=</span><span class="op">-</span><span class="fl">13</span>,v<span class="op">=</span><span class="fl">13</span>,u_wind<span class="op">=</span><span class="cn">NaN</span>,v_wind<span class="op">=</span><span class="fl">6</span>, fast<span class="op">=</span><span class="fl">8</span>, slow<span class="op">=</span><span class="fl">1</span>, drop_missing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="st">"eta"</span><span class="op">]</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>U component of wind contains non finite values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NaN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adriaan M. Dokter, Peter Desmet, Bart Kranstauber, Cecilia Nilsson, Stijn Van Hoey.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

