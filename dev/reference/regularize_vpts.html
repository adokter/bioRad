<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Regularize a time series of vertical profiles (vpts) on a regular time grid — regularize_vpts • bioRad</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Regularize a time series of vertical profiles (vpts) on a regular time grid — regularize_vpts"><meta name="description" content="Projects objects of class vpts on a regular time grid"><meta property="og:description" content="Projects objects of class vpts on a regular time grid"><meta property="og:image" content="http://adriaandokter.com/bioRad/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bioRad</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.11.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/bioRad.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/rad_aero_22.html">Introductory exercises with bioRad</a></li>
    <li><a class="dropdown-item" href="../articles/range_correction.html">Correction for range effects</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/adokter/bioRad/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Regularize a time series of vertical profiles (<code>vpts</code>) on a regular time grid</h1>
      <small class="dont-index">Source: <a href="https://github.com/adokter/bioRad/blob/master/R/regularize_vpts.R" class="external-link"><code>R/regularize_vpts.R</code></a></small>
      <div class="d-none name"><code>regularize_vpts.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Projects objects of class <code>vpts</code> on a regular time grid</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">regularize_vpts</span><span class="op">(</span></span>
<span>  <span class="va">ts</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  <span class="va">date_min</span>,</span>
<span>  <span class="va">date_max</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"secs"</span>,</span>
<span>  fill <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  keep_datetime <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-ts">ts<a class="anchor" aria-label="anchor" href="#arg-ts"></a></dt>
<dd><p>An object inheriting from class <code>vpts</code>, see
<code><a href="summary.vpts.html">vpts()</a></code> for details.</p></dd>


<dt id="arg-interval">interval<a class="anchor" aria-label="anchor" href="#arg-interval"></a></dt>
<dd><p>Time interval grid to project on. When '<code>auto</code>' the
median interval in the time series is used.</p></dd>


<dt id="arg-date-min">date_min<a class="anchor" aria-label="anchor" href="#arg-date-min"></a></dt>
<dd><p>Start time of the projected time series, as a POSIXct object.
Taken from <code>ts</code> by default'.</p></dd>


<dt id="arg-date-max">date_max<a class="anchor" aria-label="anchor" href="#arg-date-max"></a></dt>
<dd><p>End time of the projected time series, as a POSIXct object.
Taken from <code>ts</code> by default.</p></dd>


<dt id="arg-units">units<a class="anchor" aria-label="anchor" href="#arg-units"></a></dt>
<dd><p>Optional units of <code>interval</code> and <code>fill</code>, one of 'secs', 'mins',
'hours','days', 'weeks'. Defaults to 'mins'.</p></dd>


<dt id="arg-fill">fill<a class="anchor" aria-label="anchor" href="#arg-fill"></a></dt>
<dd><p>Numeric or Logical. fill each regularized timestep with the closest
original profile found within a time window of +/- <code>fill</code>.
When <code>TRUE</code>, <code>fill</code> maps to <code>interval</code>, filling single missing
timesteps. When <code>FALSE</code>, <code>fill</code>  maps to 0, disabling filling.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical, when <code>TRUE</code> prints text to console.</p></dd>


<dt id="arg-keep-datetime">keep_datetime<a class="anchor" aria-label="anchor" href="#arg-keep-datetime"></a></dt>
<dd><p>Logical, when <code>TRUE</code> keep original radar acquisition timestamps.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>vpts</code> with regular time steps.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Projects objects of class <code>vpts</code> on a regular time grid, and fills
temporal gaps by nearest neighbor interpolation.</p>
<p>Irregular time series of profiles are typically aligned on a
regular time grid with the expected time interval at which a radar provides
data. Alignment is performed using a nearest neighbor interpolation limited to
neighboring profiles that fall within +/- <code>fill</code> (centered) of an original profile.</p>
<p>Remaining temporal gaps in the time series are filled with empty profiles that have values
NA for all quantities, such that each timestamp of the regular grid has an
associated profile.</p>
<p>In plots of regular time series (see <code><a href="plot.vpts.html">plot.vpts()</a></code>) temporal gaps of
missing profiles (e.g. due to radar down time) become visible, as a result
of the gap filling with empty profiles. In irregular
time series data points in the plot are carried through until the time series
continues, and temporal data gaps are filled up visually.</p>
<p>When <code>keep_datetime</code> is <code>TRUE</code> the original profile timestamps are kept in
<code>ts$datetime</code>. This may lead to duplicate timestamps when regularizing on a timegrid
finer than the interval of available profiles.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># start form example vpts object:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">example_vpts</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ts</span> <span class="op">&lt;-</span> <span class="va">example_vpts</span></span></span>
<span class="r-in"><span><span class="co"># data gaps are not visible:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ts</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Irregular time-series: missing profiles will not be visible. Use 'regularize_vpts' to make time series regular.</span>
<span class="r-plt img"><img src="regularize_vpts-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># regularize the time series on a 5 minute interval grid</span></span></span>
<span class="r-in"><span><span class="va">tsRegular</span> <span class="op">&lt;-</span> <span class="fu">regularize_vpts</span><span class="op">(</span><span class="va">ts</span>, interval <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># data gaps are visible:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">tsRegular</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="regularize_vpts-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># regularize the time series on a 10 minute interval grid,</span></span></span>
<span class="r-in"><span><span class="co"># and fill data gaps smaller than 1 hour by nearest neighbor interpolation</span></span></span>
<span class="r-in"><span><span class="va">tsRegular</span> <span class="op">&lt;-</span> <span class="fu">regularize_vpts</span><span class="op">(</span><span class="va">ts</span>, interval <span class="op">=</span> <span class="fl">600</span>, fill <span class="op">=</span> <span class="fl">3600</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># data gaps are smaller as a result of nearest neighbor interpolation:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">tsRegular</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="regularize_vpts-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adriaan M. Dokter, Peter Desmet, Bart Kranstauber, Cecilia Nilsson, Alexander Tedeschi, Stijn Van Hoey.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

