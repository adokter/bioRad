<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Partition mixtures of animals using assumptions on airspeeds. — clean_mixture • bioRad</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Partition mixtures of animals using assumptions on airspeeds. — clean_mixture"><meta property="og:description" content="Partition mixtures of birds and insects using assumptions on their respective airspeeds,
following the approach by Shi et al. (2025)."><meta property="og:image" content="https://adriaandokter.com/bioRad/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bioRad</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.8.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/bioRad.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/rad_aero_22.html">Introductory exercises with bioRad</a>
    </li>
    <li>
      <a href="../articles/range_correction.html">Correction for range effects</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/adokter/bioRad/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>

    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Partition mixtures of animals using assumptions on airspeeds.</h1>
    <small class="dont-index">Source: <a href="https://github.com/adokter/bioRad/blob/master/R/clean_mixture.R" class="external-link"><code>R/clean_mixture.R</code></a></small>
    <div class="hidden name"><code>clean_mixture.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Partition mixtures of birds and insects using assumptions on their respective airspeeds,
following the approach by Shi et al. (2025).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">clean_mixture</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  slow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  fast <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  drop_slow_component <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  drop_missing <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_mixture <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">U</span>,</span>
<span>  <span class="va">V</span>,</span>
<span>  <span class="va">u</span>,</span>
<span>  <span class="va">v</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vpts'</span></span>
<span><span class="fu">clean_mixture</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  slow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  fast <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  drop_slow_component <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  drop_missing <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_mixture <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  U <span class="op">=</span> <span class="st">"u_wind"</span>,</span>
<span>  V <span class="op">=</span> <span class="st">"v_wind"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vp'</span></span>
<span><span class="fu">clean_mixture</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  slow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  fast <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  drop_slow_component <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  drop_missing <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  keep_mixture <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  U <span class="op">=</span> <span class="st">"u_wind"</span>,</span>
<span>  V <span class="op">=</span> <span class="st">"v_wind"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a <code>vp</code> or <code>vpts</code> object, or a mixture animal density or linear reflectivity eta in cm\(^2\)/km\(^3\).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p><code>eta</code>, <code>u</code>, <code>v</code>, <code>U</code>, <code>V</code> arguments, taken from object for <code>vp</code> or <code>vpts</code> class.</p></dd>


<dt id="arg-slow">slow<a class="anchor" aria-label="anchor" href="#arg-slow"></a></dt>
<dd><p>the slow component's airspeed in m/s, typically the airspeed of birds.</p></dd>


<dt id="arg-fast">fast<a class="anchor" aria-label="anchor" href="#arg-fast"></a></dt>
<dd><p>the fast component's airspeed in m/s, typically the airspeed of insects.</p></dd>


<dt id="arg-drop-slow-component">drop_slow_component<a class="anchor" aria-label="anchor" href="#arg-drop-slow-component"></a></dt>
<dd><p>when TRUE (default) output density, ground speed and
heading for fast component, when FALSE for slow component.</p></dd>


<dt id="arg-drop-missing">drop_missing<a class="anchor" aria-label="anchor" href="#arg-drop-missing"></a></dt>
<dd><p>Values <code>eta</code> without an associated ground speed
and wind speed are set to NA when <code>TRUE</code>, or returned unaltered when <code>FALSE</code> (default).</p></dd>


<dt id="arg-keep-mixture">keep_mixture<a class="anchor" aria-label="anchor" href="#arg-keep-mixture"></a></dt>
<dd><p>When <code>TRUE</code> store original mixture reflectivity and speeds as
renamed quantities with <code>mixture_</code> prefix</p></dd>


<dt id="arg-u">U<a class="anchor" aria-label="anchor" href="#arg-u"></a></dt>
<dd><p>the west to east wind component in m/s. In the case of <code>vp</code> and <code>vpts</code> objects
the quantity name for the U-component of the wind.</p></dd>


<dt id="arg-v">V<a class="anchor" aria-label="anchor" href="#arg-v"></a></dt>
<dd><p>the south to north wind component in m/s.  In the case of <code>vp</code> and <code>vpts</code> objects
the quantity name for the V-component of the wind.</p></dd>


<dt id="arg-u">u<a class="anchor" aria-label="anchor" href="#arg-u"></a></dt>
<dd><p>the mixture's ground speed u component (west to east) in m/s.</p></dd>


<dt id="arg-v">v<a class="anchor" aria-label="anchor" href="#arg-v"></a></dt>
<dd><p>the mixture's ground speed v component (south to north) in m/s.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a named list with cleaned densities and speeds.
Output differs depending on whether the fast component is retained
(<code>drop_slow_component</code>=<code>TRUE</code>, default) or the slow component (<code>drop_slow_component</code>=<code>FALSE</code>, default). Output quantities include:</p><ul><li><p><code>eta</code>: cleaned reflectivity in cm^2/km^3.
only the fast component (default) or the slow component
(when <code>drop_slow_component</code> is <code>TRUE</code>).</p></li>
<li><p><code>u</code>: cleaned ground speed component west to east in m/s.</p></li>
<li><p><code>v</code>: cleaned ground speed component south to north in m/s.</p></li>
<li><p><code>airspeed</code>: the airspeed of the selected component in m/s.</p></li>
<li><p><code>airspeed_u</code>: the u-component (west to east) of the airspeed of the retained component in m/s.</p></li>
<li><p><code>airspeed_v</code>: the v-component (south to north) of the airspeed of the retained component in m/s.</p></li>
<li><p><code>heading</code>: the heading of the selected component in degrees clockwise from north.</p></li>
<li><p><code>f</code>: the reflectivity proportion of the slow component (0-1 range), typically the proportion of insects.</p></li>
</ul><p>For <code>vp</code> and <code>vpts</code> objects the quantities <code>eta</code>,<code>u</code>,<code>v</code> will be updated, and other
quantities listed above will be added.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>For a detail description of the methodology see Shi et al. (2025).
Most commonly the fast component refers to migrating birds, while
the slow component refers to insects. The slow component is always
oriented in the direction of the wind by definition.
Note that for mixture airspeeds exceeding the airspeed of the fast component,
all reflectivity is assigned to the fast component. Similarly, for mixture
airspeeds below the airspeed of the slow component, all reflectivity
will be assigned to the slow component. In both these limiting cases the</p><div class="section">
<h3 id="how-to-use-this-function-">How to use this function?<a class="anchor" aria-label="anchor" href="#how-to-use-this-function-"></a></h3>

<ol><li><p>To apply this function to <code>vp</code> or <code>vpts</code> data altitudinal wind data
needs to be added to the vertical profile data first. This is most easily
accomplished by first converting the objects to a <code>data.frame</code> with <code><a href="as.vp.html">as.vp()</a></code> or <code><a href="as.vpts.html">as.vpts()</a></code>.
Wind data can then be added as a new columns to the data.frame.
By default the wind data is expected to be named <code>u_wind</code> for the U component
and <code>v_wind</code> for the V component of the wind.
Alternatively, arguments <code>U</code> and <code>V</code> can be used to specify different names.</p></li>
<li><p>Realistic assumptions for the expected airspeed for the slow (insect)
and fast (bird) components need to be provided, using arguments <code>slow</code> and <code>fast</code>.
See Shi et al. 2025 for recommendations in choosing these values.</p></li>
<li><p>Use <code>drop_slow_component</code> to toggle between retaining the slow or fast component.
When <code>TRUE</code> the fast (bird) component is retained. When <code>FALSE</code> the slow (insect)
component is retained. Note that in this case the corrected ground speed direction will be
identical to the wind direction, and the magnitude of the ground speed will be equal
to the wind speed plus the value of <code>slow</code>, due to the underlying assumption
of wind following by the slow component.</p></li>
</ol></div>

    </div>
    <div id="references">
    <h2>References</h2>

<ul><li><p>Shi X, Drucker J, Chapman JW, Sanchez Herrera M, Dokter AM
Analysis of mixtures of birds and insects in weather radar data.
Ornithological Applications. 2025 (in press) <a href="https://doi.org/10.1093/ornithapp/duaf020" class="external-link">doi:10.1093/ornithapp/duaf020</a>
.</p></li>
<li><p>Nussbaumer R, Schmid B, Bauer S, Liechti F.
A Gaussian mixture model to separate birds and insects in
single-polarization weather radar data. Remote Sensing. 2021 May 19;13(10):1989 <a href="https://doi.org/10.3390/rs13101989" class="external-link">doi:10.3390/rs13101989</a>
.</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># convert profile object to data.frame</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">example_vp</span>, suntime<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># add wind u and v component wind data</span></span></span>
<span class="r-in"><span><span class="co"># (here a NW wind identical at all altitudes)</span></span></span>
<span class="r-in"><span><span class="va">df</span><span class="op">$</span><span class="va">u_wind</span><span class="op">=</span><span class="fl">3</span></span></span>
<span class="r-in"><span><span class="va">df</span><span class="op">$</span><span class="va">v_wind</span><span class="op">=</span><span class="op">-</span><span class="fl">3</span></span></span>
<span class="r-in"><span><span class="co"># convert back to vp object</span></span></span>
<span class="r-in"><span><span class="va">my_vp</span> <span class="op">&lt;-</span> <span class="fu"><a href="as.vp.html">as.vp</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Extra fields found: u_wind, v_wind</span>
<span class="r-in"><span><span class="co"># partition the mixture:</span></span></span>
<span class="r-in"><span><span class="va">my_vp_clean</span> <span class="op">&lt;-</span> <span class="fu">clean_mixture</span><span class="op">(</span><span class="va">my_vp</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># drop the slow component (typically insects)</span></span></span>
<span class="r-in"><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="fl">100</span>,u<span class="op">=</span><span class="op">-</span><span class="fl">13</span>,v<span class="op">=</span><span class="fl">13</span>,U<span class="op">=</span><span class="op">-</span><span class="fl">7</span>,V<span class="op">=</span><span class="fl">6</span>, fast<span class="op">=</span><span class="fl">8</span>, slow<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 9.219544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $heading</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -40.60129</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $f</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># drop the fast component (typically birds)</span></span></span>
<span class="r-in"><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="fl">100</span>,u<span class="op">=</span><span class="op">-</span><span class="fl">13</span>,v<span class="op">=</span><span class="fl">13</span>,U<span class="op">=</span><span class="op">-</span><span class="fl">7</span>,V<span class="op">=</span><span class="fl">6</span>, fast<span class="op">=</span><span class="fl">8</span>, slow<span class="op">=</span><span class="fl">1</span>, drop_slow_component<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 9.219544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $heading</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -40.60129</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $f</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># keep the original mixture reflectivity and speed components</span></span></span>
<span class="r-in"><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="fl">100</span>,u<span class="op">=</span><span class="op">-</span><span class="fl">13</span>,v<span class="op">=</span><span class="fl">13</span>,U<span class="op">=</span><span class="op">-</span><span class="fl">7</span>,V<span class="op">=</span><span class="fl">6</span>, fast<span class="op">=</span><span class="fl">8</span>, slow<span class="op">=</span><span class="fl">1</span>, keep_mixture<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 9.219544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $heading</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -40.60129</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $airspeed_v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $f</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mixture_eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mixture_u</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mixture_v</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mixture_airspeed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 9.219544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mixture_heading</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 319.3987</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># keep reflectivity unaltered when one of the speed components is not a number:</span></span></span>
<span class="r-in"><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="fl">100</span>,u<span class="op">=</span><span class="op">-</span><span class="fl">13</span>,v<span class="op">=</span><span class="fl">13</span>,U<span class="op">=</span><span class="cn">NaN</span>,V<span class="op">=</span><span class="fl">6</span>, fast<span class="op">=</span><span class="fl">8</span>, slow<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">[</span><span class="st">"eta"</span><span class="op">]</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>U component of wind contains non finite values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># set reflectivity to NaN when one of the speed components is not a number:</span></span></span>
<span class="r-in"><span><span class="fu">clean_mixture</span><span class="op">(</span><span class="fl">100</span>,u<span class="op">=</span><span class="op">-</span><span class="fl">13</span>,v<span class="op">=</span><span class="fl">13</span>,U<span class="op">=</span><span class="cn">NaN</span>,V<span class="op">=</span><span class="fl">6</span>, fast<span class="op">=</span><span class="fl">8</span>, slow<span class="op">=</span><span class="fl">1</span>, drop_missing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="st">"eta"</span><span class="op">]</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>U component of wind contains non finite values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NaN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="http://adriaandokter.com" class="external-link">Adriaan M. Dokter</a>, <a href="https://twitter.com/peterdesmet" class="external-link">Peter Desmet</a>, Bart Kranstauber, Cecilia Nilsson, <a href="https://twitter.com/SVanHoey" class="external-link">Stijn Van Hoey</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({


    apiKey: '482e77c49caf113078e572738762cf40',
    indexName: 'biorad',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

