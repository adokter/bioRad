<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate a new scan parameter — calculate_param • bioRad</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Calculate a new scan parameter — calculate_param" />
<meta property="og:description" content="Calculates a new scan parameter from a combination of existing scan parameters. Useful
for calculating quantities that are defined in terms of other basic radar moments, like
linear reflectivity eta, depolarization ratio (Kilambi et al. 2018), or for applying
clutter corrections (CCORH) to uncorrected reflectivity moments (TH), as in TH+CCORH" />
<meta property="og:image" content="https://adokter.github.io/bioRad/logo.png" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bioRad</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.5.2.9419</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/bioRad.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/rad_aero_19.html">Introductory exercises with bioRad</a>
    </li>
    <li>
      <a href="../articles/range_correction.html">Correction for range effects</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/adokter/bioRad/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate a new scan parameter</h1>
    <small class="dont-index">Source: <a href='https://github.com/adokter/bioRad/blob/master/R/calculate_param.R'><code>R/calculate_param.R</code></a></small>
    <div class="hidden name"><code>calculate_param.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates a new scan parameter from a combination of existing scan parameters. Useful
for calculating quantities that are defined in terms of other basic radar moments, like
linear reflectivity eta, depolarization ratio (Kilambi et al. 2018), or for applying
clutter corrections (CCORH) to uncorrected reflectivity moments (TH), as in TH+CCORH</p>
    </div>

    <pre class="usage"><span class='fu'>calculate_param</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for pvol</span>
<span class='fu'>calculate_param</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for scan</span>
<span class='fu'>calculate_param</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>an object of class <code>pvol</code> or class <code>scan</code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>an expression defining the new scan parameter in terms of existing scan parameters</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an object of the same class as <code>x</code>, either class <code>pvol</code> or class <code>scan</code></p>
    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    
<ul>
<li><p><code>pvol</code>: Calculate a new scan parameter for all scans in a polar volume.</p></li>
<li><p><code>scan</code>: Calculate a new scan parameter for a scan</p></li>
</ul>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ul>
<li><p>Kilambi, A., Fabry, F., and Meunier, V., 2018. A simple and effective method
for separating meteorological from nonmeteorological targets using dual-polarization
data. Journal of Atmospheric and Oceanic Technology, 35, 1415–1424.
<a href='https://doi.org/10.1175/JTECH-D-17-0175.1'>https://doi.org/10.1175/JTECH-D-17-0175.1</a></p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># locate example volume file:</span>
<span class='va'>pvolfile</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, <span class='st'>"volume.h5"</span>, package <span class='op'>=</span> <span class='st'>"bioRad"</span><span class='op'>)</span>

<span class='co'># load the file:</span>
<span class='va'>example_pvol</span> <span class='op'>&lt;-</span> <span class='fu'><a href='read_pvolfile.html'>read_pvolfile</a></span><span class='op'>(</span><span class='va'>pvolfile</span><span class='op'>)</span>

<span class='co'># calculate linear reflectivity ETA from reflectivity factor DBZH:</span>
<span class='va'>radar_wavelength</span> <span class='op'>&lt;-</span> <span class='va'>example_pvol</span><span class='op'>$</span><span class='va'>attributes</span><span class='op'>$</span><span class='va'>how</span><span class='op'>$</span><span class='va'>wavelength</span>
<span class='co'># example_pvol &lt;- calculate_param(example_pvol,ETA=dbz_to_eta(DBZH,radar_wavelength))</span>

<span class='co'># add depolarization ratio (DR) as a scan parameter (see Kilambi 2018):</span>
<span class='va'>example_pvol</span> <span class='op'>&lt;-</span> <span class='fu'>calculate_param</span><span class='op'>(</span><span class='va'>example_pvol</span>, DR <span class='op'>=</span> <span class='fl'>10</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log10</a></span><span class='op'>(</span><span class='op'>(</span><span class='va'>ZDR</span> <span class='op'>+</span> <span class='fl'>1</span> <span class='op'>-</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>ZDR</span><span class='op'>^</span><span class='fl'>0.5</span> <span class='op'>*</span> <span class='va'>RHOHV</span><span class='op'>)</span> <span class='op'>/</span>
  <span class='op'>(</span><span class='va'>ZDR</span> <span class='op'>+</span> <span class='fl'>1</span> <span class='op'>+</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>ZDR</span><span class='op'>^</span><span class='fl'>0.5</span> <span class='op'>*</span> <span class='va'>RHOHV</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># calculate_param operates on both pvol and scan objects:</span>
<span class='fu'>calculate_param</span><span class='op'>(</span><span class='va'>example_scan</span>, DR <span class='op'>=</span> <span class='fl'>10</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log10</a></span><span class='op'>(</span><span class='op'>(</span><span class='va'>ZDR</span> <span class='op'>+</span> <span class='fl'>1</span> <span class='op'>-</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>ZDR</span><span class='op'>^</span><span class='fl'>0.5</span> <span class='op'>*</span> <span class='va'>RHOHV</span><span class='op'>)</span> <span class='op'>/</span>
  <span class='op'>(</span><span class='va'>ZDR</span> <span class='op'>+</span> <span class='fl'>1</span> <span class='op'>+</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>ZDR</span><span class='op'>^</span><span class='fl'>0.5</span> <span class='op'>*</span> <span class='va'>RHOHV</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                   Polar scan (class scan)
#&gt; 
#&gt;      parameters:  VRADH DBZH ZDR RHOHV PHIDP DR 
#&gt; elevation angle:  0.5 deg
#&gt;            dims:  480 bins x 360 rays</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://adriaandokter.com'>Adriaan M. Dokter</a>, <a href='https://twitter.com/peterdesmet'>Peter Desmet</a>, <a href='https://twitter.com/SVanHoey'>Stijn Van Hoey</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '482e77c49caf113078e572738762cf40',
    indexName: 'biorad',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


